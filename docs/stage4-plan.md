# Этап 4 — UX и локализация

## Цели

- Сделать административный интерфейс визуально цельным и вписанным в стиль Bedolaga.
- Упростить сценарии для администраторов: понятные статусы, тексты, переводы.
- Подготовить обзорную страницу с ключевыми метриками (подписки, платежи, блокировки).

## Что уже сделано

- [x] Подключены собственные статические ресурсы (`/static`), добавлены фирменный логотип и CSS.
- [x] Обновлена страница `/admin/actions`: новая вёрстка, подсказки и фон с брендингом.
- [x] Добавлены макросы переводов (`app/i18n`), middleware определения языка и интеграция в шаблоны SQLAdmin.
- [x] Локализованы основные шаблоны SQLAdmin (списки, формы создания/редактирования, детали, логин, модальные окна).
- [x] Тексты валидации, ошибок CSRF, rate limiting и сообщений действий вынесены в словарь переводов.
- [x] Конфигурация административных действий (`ADMIN_ACTIONS`) переписана на ключи переводов: заголовки, описания и подписи полей берутся через `translate()`.
- [x] Исключения `CSRFAuthError`, `ActionValidationError`, `_require_int` и прочие проверки возвращают коды словаря, которые преобразуются в сообщения через i18n.

## Что осталось

- [ ] Подготовить дашборд и вспомогательные виджеты (обзор подписок, платежей, блокировок).
- [ ] Добавить пустые состояния и контекстные подсказки в формы.
- [ ] Проверить работу в тёмной теме / RTL и при необходимости скорректировать цвета.
- [ ] Обновить документацию и README после добавления дашборда.

## Заметки по реализации

- Шаблоны SQLAdmin переопределяются через `Admin(templates_dir=...)`; все кастомные версии лежат в `app/templates/sqladmin/`.
- Для дашборда удобнее сделать отдельный маршрут (например, `/admin/overview`) и шаблон с агрегатами БД.
- Строки и уведомления следует хранить в `app/i18n/messages.py`, чтобы ими можно было пользоваться и в API.
- После внедрения дашборда обновить `docs/development.md` и README с примерами.
